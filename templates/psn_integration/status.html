<!-- =============================================================================
File: templates/psn_integration/status.html
Basic PSN Status Template
============================================================================= -->

{% extends 'base.html' %}

{% block title %}PlayStation Network Status - Trophy Tracker{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h4><i class="fab fa-playstation"></i> PlayStation Network Status</h4>
            </div>
            <div class="card-body">
                {% if psn_connected %}
                    <div class="alert alert-success">
                        <h5><i class="fas fa-check-circle"></i> Connected</h5>
                        {% if psn_token %}
                            <p><strong>PSN ID:</strong> {{ psn_token.psn_online_id }}</p>
                            <p><strong>Account ID:</strong> {{ psn_token.psn_account_id }}</p>
                            <p><strong>Connected:</strong> {{ psn_token.created_at|date:"F d, Y H:i" }}</p>
                            
                            {% if token_expired %}
                                <div class="alert alert-warning mt-3">
                                    <i class="fas fa-exclamation-triangle"></i>
                                    <strong>Token Expired</strong> - Please reconnect your account.
                                </div>
                            {% else %}
                                <p><strong>Token Expires:</strong> {{ psn_token.expires_at|date:"F d, Y H:i" }}</p>
                            {% endif %}
                        {% else %}
                            <p><strong>PSN ID:</strong> {{ psn_id|default:"Connected" }}</p>
                        {% endif %}
                    </div>
                    
                    <div class="d-grid gap-2">
                        <a href="/psn/sync/" class="btn btn-primary">
                            <i class="fas fa-sync"></i> Sync Trophies
                        </a>
                        <a href="/psn/disconnect/" class="btn btn-outline-danger">
                            <i class="fas fa-unlink"></i> Disconnect PSN Account
                        </a>
                    </div>
                {% else %}
                    <div class="alert alert-info">
                        <h5><i class="fas fa-info-circle"></i> Not Connected</h5>
                        <p>Connect your PlayStation Network account to sync your trophies and get skill-based rankings.</p>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <a href="/psn/auth/start/" class="btn btn-success">
                            <i class="fab fa-playstation"></i> Connect PSN Account
                        </a>
                    </div>
                {% endif %}
                
                <div class="mt-4">
                    <a href="/profile/" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left"></i> Back to Profile
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Development Note -->
        <div class="alert alert-info mt-4">
            <h6><i class="fas fa-info-circle"></i> Development Status</h6>
            <p><strong>Phase 1:</strong> Basic PSN authentication setup âœ…</p>
            <p><strong>Phase 2:</strong> Full trophy sync functionality (Coming next!)</p>
            <p>The "Connect PSN Account" button will redirect to PlayStation's login page once Phase 2 is implemented.</p>
        </div>
    </div>
</div>
{% endblock %}